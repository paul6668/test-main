#!/bin/bash

# Define the output CSV file
output_file="nslookup_results.csv"

# Write the CSV header
echo "Route,Address" > $output_file

# Get the list of routes from the istio-system namespace
routes=$(oc get route -n istio-system | grep project | awk '{print $2}')

# Loop through each route and perform nslookup
for route in $routes; 
do
  echo "Processing route: $route"
  
  # Perform nslookup and extract the address
  address=$(nslookup $route | grep 'Address:' | tail -n1 | awk '{print $2}')
  
  # Append the result to the CSV file
  echo "$route,$address" >> $output_file
done

echo "Results written to $output_file"



3568b95554-gw.cloud.aquasec.com:443\"/" | oc apply -f -
•	oc create secret generic aqua-kube-enforcer-token --from-literal=token=af162024-ba00-4a88-9f33-81ebeb693b7f -n aqua 


•	docker run -d  registry.aquasec.com/scanner:2406.10.19 daemon --token fcfa710ce5d5fb5ce103afd4234e888e6a66f48d --host https://3568b95554.cloud.aquasec.com
